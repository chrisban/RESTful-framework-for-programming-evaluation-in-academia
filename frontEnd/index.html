<html xmlns="http://www.w3.org/1999/xhtml">
	<head>
		<title>
			Server-side code compilation/execution
		</title>
		<script type="text/javascript" src="/js/jquery-2.1.4.min.js"></script>
		<script type="text/javascript" src="js/jquery-ui-1.11.4/jquery-ui.min.js"></script>
		<link type="text/css" href="js/jquery-ui-1.11.4/jquery-ui.min.css" rel="stylesheet" media="screen"/>
		<link type="text/css" href="css/screen.css" rel="stylesheet" media="screen"/>

		<!-- TODO: inject instead of including on client side! See getscript!-->
		<script src="js/codemirror-5.3/lib/codemirror.js"></script>
		<script src="js/codemirror-5.3/addon/edit/matchbrackets.js"></script>
		<link rel="stylesheet" href="js/codemirror-5.3/lib/codemirror.css">
		<script src="js/codemirror-5.3/mode/clike/clike.js"></script>
		<script src="js/codemirror-5.3/mode/python/python.js"></script>
	</head>

	<script>
		$(function() {
			$.ajax({
			    url: "/getModule",
			    type: "POST",
			    dataType: "json",
			    data: JSON.stringify({course_id: 'cptr124', test_id: '0', type: "exam"}),
			    contentType: "application/json",
			    cache: false,
        		async: false, //ensures completion before continuting on
			    success: function(res){
			    	console.log("Success response: ", res);
			    	$('body').html(res['response_html']);
				    eval(res['response_script']);
			    },
			    error: function(res){
			    	console.log("Error response: ", res);
			    }
			});
		});
	</script>
	<body> 
	</body>
</html>